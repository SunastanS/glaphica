{"_id":"@ruvector/tiny-dancer","_rev":"2-f2354a0531153b947e4b122a2fb82452","name":"@ruvector/tiny-dancer","dist-tags":{"latest":"0.1.17"},"versions":{"0.1.15":{"name":"@ruvector/tiny-dancer","version":"0.1.15","keywords":["neural-router","ai-routing","agent-orchestration","fastgrnn","circuit-breaker","uncertainty-estimation","hot-reload","llm-routing","model-routing","native","napi","rust","simd","fast","performance","ruv","ruvector"],"author":{"url":"https://ruv.io","name":"ruv.io Team","email":"info@ruv.io"},"license":"MIT","_id":"@ruvector/tiny-dancer@0.1.15","maintainers":[{"name":"ruvnet","email":"ruv@ruv.net"}],"homepage":"https://ruv.io","bugs":{"url":"https://github.com/ruvnet/ruvector/issues"},"dist":{"shasum":"ecba8b85c2eb4d36ff722a361b33e221dd575f0b","tarball":"https://registry.npmjs.org/@ruvector/tiny-dancer/-/tiny-dancer-0.1.15.tgz","fileCount":4,"integrity":"sha512-Gl+eHhenRHVpyeqjJJBa2RL1HbXC+WNr8caEcEfNdODFKlKaicOPDaujUHAG3tEMZzeT3564eqPWu+ZiA+wxKQ==","signatures":[{"sig":"MEQCIDFjKC4awDxHb81nLrO8AB5rdH4cCI6XRV3wWZNGJlHeAiA5l7a6HVMnv7l8Dn+/fGtTScz0jmh9yIMcwdbGeyUgDw==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":13498},"main":"index.js","types":"index.d.ts","engines":{"node":">=18.0.0"},"gitHead":"3a8c14eefca9b3cc92e0094bf2be53bfc437d71d","scripts":{"test":"node test.js","build:napi":"napi build --platform --release --cargo-cwd ../../../crates/ruvector-tiny-dancer-node","publish:platforms":"node scripts/publish-platforms.js"},"_npmUser":{"name":"ruvnet","email":"ruv@ruv.net"},"repository":{"url":"git+https://github.com/ruvnet/ruvector.git","type":"git","directory":"npm/packages/tiny-dancer"},"_npmVersion":"9.8.1","description":"Neural router for AI agent orchestration - FastGRNN-based intelligent routing with circuit breaker, uncertainty estimation, and hot-reload","directories":{},"_nodeVersion":"22.21.1","publishConfig":{"access":"public"},"_hasShrinkwrap":false,"devDependencies":{"@napi-rs/cli":"^2.18.0"},"optionalDependencies":{"@ruvector/tiny-dancer-darwin-x64":"0.1.15","@ruvector/tiny-dancer-darwin-arm64":"0.1.15","@ruvector/tiny-dancer-linux-x64-gnu":"0.1.15","@ruvector/tiny-dancer-win32-x64-msvc":"0.1.15","@ruvector/tiny-dancer-linux-arm64-gnu":"0.1.15"},"_npmOperationalInternal":{"tmp":"tmp/tiny-dancer_0.1.15_1764256796182_0.06369612279976744","host":"s3://npm-registry-packages-npm-production"}},"0.1.17":{"name":"@ruvector/tiny-dancer","version":"0.1.17","description":"Neural router for AI agent orchestration - FastGRNN-based intelligent routing with circuit breaker, uncertainty estimation, and hot-reload","main":"index.js","types":"index.d.ts","author":{"name":"ruv.io Team","email":"info@ruv.io","url":"https://ruv.io"},"homepage":"https://ruv.io","repository":{"type":"git","url":"git+https://github.com/ruvnet/ruvector.git","directory":"npm/packages/tiny-dancer"},"bugs":{"url":"https://github.com/ruvnet/ruvector/issues"},"license":"MIT","engines":{"node":">=18.0.0"},"scripts":{"build:napi":"napi build --platform --release --cargo-cwd ../../../crates/ruvector-tiny-dancer-node","test":"node test.js","publish:platforms":"node scripts/publish-platforms.js"},"devDependencies":{"@napi-rs/cli":"^2.18.0"},"optionalDependencies":{"@ruvector/tiny-dancer-linux-x64-gnu":"0.1.15","@ruvector/tiny-dancer-linux-arm64-gnu":"0.1.17","@ruvector/tiny-dancer-darwin-x64":"0.1.15","@ruvector/tiny-dancer-darwin-arm64":"0.1.15","@ruvector/tiny-dancer-win32-x64-msvc":"0.1.15"},"publishConfig":{"access":"public"},"keywords":["neural-router","ai-routing","agent-orchestration","fastgrnn","circuit-breaker","uncertainty-estimation","hot-reload","llm-routing","model-routing","native","napi","rust","simd","fast","performance","ruv","ruvector"],"_id":"@ruvector/tiny-dancer@0.1.17","gitHead":"1e597fe496d889956c4c5d9f084dc0ec4c379316","_nodeVersion":"22.21.1","_npmVersion":"9.8.1","dist":{"integrity":"sha512-Jv5R6fAhjtJfgTMkBxFHW4uQiUTF0/DRdYVMKFuCBHHO4Rv+uRaI67woFStbZc+N4OCsuvLJjFh2hE9GmDGIYg==","shasum":"2697e6a1015cc63b629cc0c5600c0727b0bfee3f","tarball":"https://registry.npmjs.org/@ruvector/tiny-dancer/-/tiny-dancer-0.1.17.tgz","fileCount":4,"unpackedSize":13498,"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEYCIQDZoi4GtnY2NFMVJTXhbqBhM8SIYJ8yHJ44z4VVIJbQwgIhAJw9QZUVWav0agui0wRQmyKHHnYoU1Ct5NziEcxwQ6Fj"}]},"_npmUser":{"name":"ruvnet","email":"ruv@ruv.net"},"directories":{},"maintainers":[{"name":"ruvnet","email":"ruv@ruv.net"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/tiny-dancer_0.1.17_1770999505418_0.9033579986152542"},"_hasShrinkwrap":false}},"time":{"created":"2025-11-27T15:19:56.102Z","modified":"2026-02-13T16:18:25.685Z","0.1.15":"2025-11-27T15:19:56.385Z","0.1.17":"2026-02-13T16:18:25.540Z"},"bugs":{"url":"https://github.com/ruvnet/ruvector/issues"},"author":{"name":"ruv.io Team","email":"info@ruv.io","url":"https://ruv.io"},"license":"MIT","homepage":"https://ruv.io","keywords":["neural-router","ai-routing","agent-orchestration","fastgrnn","circuit-breaker","uncertainty-estimation","hot-reload","llm-routing","model-routing","native","napi","rust","simd","fast","performance","ruv","ruvector"],"repository":{"type":"git","url":"git+https://github.com/ruvnet/ruvector.git","directory":"npm/packages/tiny-dancer"},"description":"Neural router for AI agent orchestration - FastGRNN-based intelligent routing with circuit breaker, uncertainty estimation, and hot-reload","maintainers":[{"name":"ruvnet","email":"ruv@ruv.net"}],"readme":"# @ruvector/tiny-dancer\n\nNeural router for AI agent orchestration - FastGRNN-based intelligent routing with circuit breaker, uncertainty estimation, and hot-reload.\n\n## Features\n\n- **FastGRNN Neural Routing**: Efficient gated recurrent network for fast inference\n- **Uncertainty Estimation**: Know when the router is confident vs. uncertain\n- **Circuit Breaker**: Automatic fallback when routing fails repeatedly\n- **Hot-Reload**: Update models without restarting the application\n- **SIMD Optimized**: Native Rust performance with SIMD acceleration\n- **Multi-Platform**: Works on Linux, macOS, and Windows\n\n## Installation\n\n```bash\nnpm install @ruvector/tiny-dancer\n```\n\nThe package automatically installs the correct native binary for your platform.\n\n## Quick Start\n\n```typescript\nimport { Router } from '@ruvector/tiny-dancer';\n\n// Create router with configuration\nconst router = new Router({\n  modelPath: './models/fastgrnn.safetensors',\n  confidenceThreshold: 0.85,\n  maxUncertainty: 0.15,\n  enableCircuitBreaker: true,\n  circuitBreakerThreshold: 5\n});\n\n// Route a query to the best candidate\nconst response = await router.route({\n  queryEmbedding: new Float32Array([0.1, 0.2, 0.3, ...]),\n  candidates: [\n    { id: 'gpt-4', embedding: new Float32Array([...]), successRate: 0.95 },\n    { id: 'claude-3', embedding: new Float32Array([...]), successRate: 0.92 },\n    { id: 'gemini', embedding: new Float32Array([...]), successRate: 0.88 }\n  ]\n});\n\n// Get the best routing decision\nconst best = response.decisions[0];\nconsole.log(`Route to: ${best.candidateId}`);\nconsole.log(`Confidence: ${best.confidence}`);\nconsole.log(`Use lightweight: ${best.useLightweight}`);\nconsole.log(`Inference time: ${response.inferenceTimeUs}μs`);\n```\n\n## API Reference\n\n### `Router`\n\nMain class for neural routing.\n\n#### Constructor\n\n```typescript\nnew Router(config: RouterConfig)\n```\n\n**RouterConfig:**\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `modelPath` | string | required | Path to FastGRNN model file |\n| `confidenceThreshold` | number | 0.85 | Minimum confidence for routing |\n| `maxUncertainty` | number | 0.15 | Maximum uncertainty allowed |\n| `enableCircuitBreaker` | boolean | true | Enable fault tolerance |\n| `circuitBreakerThreshold` | number | 5 | Failures before circuit opens |\n| `enableQuantization` | boolean | true | Enable memory-efficient quantization |\n| `databasePath` | string | undefined | Optional persistence path |\n\n#### Methods\n\n##### `route(request: RoutingRequest): Promise<RoutingResponse>`\n\nRoute a query to the best candidate.\n\n```typescript\nconst response = await router.route({\n  queryEmbedding: new Float32Array([...]),\n  candidates: [{ id: 'model-1', embedding: new Float32Array([...]) }],\n  metadata: '{\"context\": \"user-query\"}'\n});\n```\n\n##### `reloadModel(): Promise<void>`\n\nHot-reload the model from disk.\n\n```typescript\nawait router.reloadModel();\n```\n\n##### `circuitBreakerStatus(): boolean | null`\n\nCheck if the circuit breaker is closed (healthy) or open (unhealthy).\n\n```typescript\nconst isHealthy = router.circuitBreakerStatus();\n```\n\n### Types\n\n#### `Candidate`\n\n```typescript\ninterface Candidate {\n  id: string;                    // Unique identifier\n  embedding: Float32Array;       // Vector embedding\n  metadata?: string;             // JSON metadata\n  createdAt?: number;            // Timestamp\n  accessCount?: number;          // Usage count\n  successRate?: number;          // Historical success (0-1)\n}\n```\n\n#### `RoutingDecision`\n\n```typescript\ninterface RoutingDecision {\n  candidateId: string;           // Which candidate to use\n  confidence: number;            // Confidence score (0-1)\n  useLightweight: boolean;       // Use fast/lightweight model\n  uncertainty: number;           // Uncertainty estimate (0-1)\n}\n```\n\n#### `RoutingResponse`\n\n```typescript\ninterface RoutingResponse {\n  decisions: RoutingDecision[];  // Ranked decisions\n  inferenceTimeUs: number;       // Inference time (μs)\n  candidatesProcessed: number;   // Number processed\n  featureTimeUs: number;         // Feature engineering time (μs)\n}\n```\n\n## Use Cases\n\n### LLM Model Routing\n\nRoute queries to the most appropriate language model:\n\n```typescript\nconst router = new Router({ modelPath: './models/llm-router.safetensors' });\n\nconst response = await router.route({\n  queryEmbedding: await embedQuery(\"Explain quantum computing\"),\n  candidates: [\n    { id: 'gpt-4', embedding: gpt4Embedding, successRate: 0.95 },\n    { id: 'gpt-3.5-turbo', embedding: gpt35Embedding, successRate: 0.85 },\n    { id: 'claude-instant', embedding: claudeInstantEmbedding, successRate: 0.88 }\n  ]\n});\n\n// Use lightweight model for simple queries\nif (response.decisions[0].useLightweight) {\n  return callModel('gpt-3.5-turbo', query);\n} else {\n  return callModel(response.decisions[0].candidateId, query);\n}\n```\n\n### Agent Orchestration\n\nRoute tasks to specialized AI agents:\n\n```typescript\nconst agents = [\n  { id: 'code-agent', embedding: codeEmbedding, successRate: 0.92 },\n  { id: 'research-agent', embedding: researchEmbedding, successRate: 0.89 },\n  { id: 'creative-agent', embedding: creativeEmbedding, successRate: 0.91 }\n];\n\nconst best = (await router.route({ queryEmbedding, candidates: agents })).decisions[0];\nawait agents[best.candidateId].execute(task);\n```\n\n## Platform Support\n\n| Platform | Architecture | Package |\n|----------|--------------|---------|\n| Linux | x64 | `@ruvector/tiny-dancer-linux-x64-gnu` |\n| Linux | ARM64 | `@ruvector/tiny-dancer-linux-arm64-gnu` |\n| macOS | x64 | `@ruvector/tiny-dancer-darwin-x64` |\n| macOS | ARM64 | `@ruvector/tiny-dancer-darwin-arm64` |\n| Windows | x64 | `@ruvector/tiny-dancer-win32-x64-msvc` |\n\n## Performance\n\n- **Inference**: < 100μs per routing decision\n- **Throughput**: 10,000+ routes/second\n- **Memory**: ~10MB base + model size\n\n## Related Packages\n\n- [`@ruvector/core`](https://www.npmjs.com/package/@ruvector/core) - Vector database\n- [`@ruvector/gnn`](https://www.npmjs.com/package/@ruvector/gnn) - Graph Neural Networks\n- [`@ruvector/graph-node`](https://www.npmjs.com/package/@ruvector/graph-node) - Hypergraph database\n\n## License\n\nMIT\n","readmeFilename":"README.md"}